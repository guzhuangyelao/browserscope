<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta http-equiv="content-type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>New Rich Text Tests</title>

  <link rel="stylesheet" href="static/common.css" type="text/css">
  <link rel="stylesheet" href="static/editable.css" type="text/css">

  <!-- utility scripts -->
  <script src="static/js/variables.js"></script> 

  <script src="static/js/canonicalize.js"></script> 
  <script src="static/js/compare.js"></script> 
  <script src="static/js/output.js"></script> 
  <script src="static/js/pad.js"></script> 
  <script src="static/js/range.js"></script> 
  <script src="static/js/units.js"></script> 

  <script src="static/js/run.js"></script> 

  <!-- new tests -->
  <script type="text/javascript">
    {% autoescape off %}
    var True = true;
    var False = false;
    var commonIDPrefix = '{{ commonIDPrefix }}';
    {% for s in suites %}
    var {{ s.id }}_TESTS = {{ s }};
    {% endfor %} 
    
    /**
     * Runs all tests in all suites.
     */
    function runTests() {
      initEditorDoc();

      // The test suites to be run.
      {% for s in suites %}
      runTestSuite({{ s.id }}_TESTS);
      {% endfor %}

      // Remove testing IFrame once all tests have finished.
      var e = document.getElementById('editor');
      e.parentNode.removeChild(e);

      fillResults();
      parent.sendScore(beacon, categoryTotals);
    }
    {% endautoescape %}
  </script>  
</head> 

<body onload="runTests();">
  {% include "richtext2/templates/output.html" %}
  <hr>
  <!--<iframe name="editor" id="editor" src="static/editable.html"></iframe>-->
  <div id="editor" contenteditable="true"></div>
</body> 
</html> 